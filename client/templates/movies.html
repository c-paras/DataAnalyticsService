{% from 'macros/modal.html' import popup_modal %}

{% extends "base.html" %}

{% block title %}
{{ title(base_movie["Title"] + " (" + base_movie["Year"] + ") - Recommendations") }}
{% endblock %}

{% block body %}
<style>
.zoom {
  padding: 0px;
  transition: transform .2s;
  margin: 0 auto;
}

.zoom:hover {
  transform: scale(1.5);
}
</style>

<div class="row">
  <div class="col s12 l12">
    <h4 style="color:white;">Movies like {{ base_movie["Title"] }} ({{ base_movie["Year"] }})...</h4>
  </div>
</div>

<div class="row">
  <div class="col s12 l1">
    <div class="zoom">
      <a href="#modal0" class="modal-trigger">
        <img style="height:200px" src="{{ base_movie['Poster'] }}">
      </a>
    </div>
  </div>
  <div class="col s12 l11"></div>
</div>

{{ popup_modal(base_movie, 0) }}

<div class="row">
  <div class="col s12 m4 l2"></div>
    {% for i in range(0, movies|length) %}
      {% if i % 12 == 0 %}
        </div>
        <div class="row">
      {% endif %}
      <div class="col s1">
        <div class="zoom">
          <a href="#modal{{ i + 1 }}" class="modal-trigger">
            <img src="{{ movies[i].Poster }}" alt="{{ movies[i].Title }}" style="height:150px">
          </a>
        </div>
      </div>
      {{ popup_modal(movies[i], i + 1) }}
    {% endfor %}
  </div>
  <div class="col s12 m4 l2"></div>
</div>

<script type="text/javascript">
  $(document).ready(function() {
    $('.modal').modal()
  })
</script>

{% endblock %}
